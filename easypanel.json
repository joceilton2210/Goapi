{
  "services": [
    {
      "type": "postgres",
      "name": "go-api-db",
      "data": {
        "projectName": "go-api-whatsapp",
        "serviceName": "go-api-db",
        "password": "$(EASYPANEL_PASSWORD)",
        "image": "postgres:15-alpine"
      }
    },
    {
      "type": "app",
      "name": "go-api-whatsapp",
      "source": {
        "type": "git",
        "url": "https://github.com/joceilton2210/Goapi.git",
        "branch": "main"
      },
      "build": {
        "type": "dockerfile",
        "file": "api/Dockerfile"
      },
      "env": "PORT=4000\nNODE_ENV=production\nAPI_KEY=change-this-key\nDB_HOST=go-api-db\nDB_PORT=5432\nDB_NAME=postgres\nDB_USER=postgres\nDB_PASSWORD=$(EASYPANEL_PASSWORD)",
      "domains": [
        {
          "host": "$(EASYPANEL_DOMAIN)",
          "port": 4000
        }
      ],
      "mounts": [
        {
          "type": "volume",
          "name": "sessions",
          "mountPath": "/app/sessions"
        },
        {
          "type": "volume",
          "name": "uploads",
          "mountPath": "/app/uploads"
        },
        {
          "type": "volume",
          "name": "logs",
          "mountPath": "/app/logs"
        }
      ],
      "deploy": {
        "replicas": 1,
        "command": null,
        "zeroDowntime": true
      }
    }
  ]
}
